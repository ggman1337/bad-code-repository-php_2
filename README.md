# Courier Management System (PHP)

–ü–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω–∞—è –Ω–∞ PHP –≤–µ—Ä—Å–∏—è —Å–µ—Ä–≤–∏—Å–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∞–º–∏. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –º–∞—à–∏–Ω –∏ —Ç–æ–≤–∞—Ä–æ–≤, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç–∞–≤–æ–∫, –∞ —Ç–∞–∫–∂–µ —Ä–∞–±–æ—á–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∏ –∫—É—Ä—å–µ—Ä–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π (`admin`, `manager`, `courier`).
- üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏: —Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–æ–ª–∏.
- üöê –ö–∞—Ç–∞–ª–æ–≥ –º–∞—à–∏–Ω —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –ø–æ –≥—Ä—É–∑–æ–ø–æ–¥—ä—ë–º–Ω–æ—Å—Ç–∏ –∏ –æ–±—ä—ë–º—É.
- üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ —Å —É—á—ë—Ç–æ–º –≤–µ—Å–∞ –∏ –≥–∞–±–∞—Ä–∏—Ç–æ–≤.
- üöö –°–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–æ–∫ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫–æ–Ω –∏ –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞.
- ‚öôÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ—Å—Ç–∞–≤–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤.
- üß≠ –†–∞—Å—á—ë—Ç –º–∞—Ä—à—Ä—É—Ç–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–µ–∑–¥–∫–∏.
- üì± –ö–∞–±–∏–Ω–µ—Ç –∫—É—Ä—å–µ—Ä–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –¥–æ—Å—Ç–∞–≤–æ–∫ –∏ –¥–µ—Ç–∞–ª—è–º–∏ –∫–∞–∂–¥–æ–π –∏–∑ –Ω–∏—Ö.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ bin/                # CLI-—Å–∫—Ä–∏–ø—Ç—ã (–º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥—ã)
‚îú‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ public/             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ Application/    # –ü—Ä–∏–∫–ª–∞–¥–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ Domain/         # –î–æ–º–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Ä–æ–ª–∏, —Å—Ç–∞—Ç—É—Å—ã)
‚îÇ   ‚îú‚îÄ‚îÄ Http/           # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, —Ä–æ—É—Ç–µ—Ä –∏ kernel
‚îÇ   ‚îú‚îÄ‚îÄ Infrastructure/ # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ Support/        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã (DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∑–∞–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã)
‚îî‚îÄ‚îÄ storage/            # SQLite-–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ PHP**
   –ü—Ä–æ–µ–∫—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ø–∞–∫–µ—Ç—ã, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç PHP 8.1+ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `pdo_sqlite`.

2. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∞–±–ª–∏—Ü—ã**
   ```bash
   php bin/migrate.php
   ```

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–∞–¥–º–∏–Ω, –º–µ–Ω–µ–¥–∂–µ—Ä, –∫—É—Ä—å–µ—Ä, –ø—Ä–∏–º–µ—Ä–Ω—ã–µ –º–∞—à–∏–Ω—ã –∏ —Ç–æ–≤–∞—Ä—ã)**
   ```bash
   php bin/seed.php
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä PHP**
   ```bash
   php -S localhost:8080 -t public
   ```

API —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8080`.

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- `POST /auth/login` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç JSON `{"login":"admin","password":"admin123"}` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω.
- –¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`.
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ—Ç–æ–¥–∞–º –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ä–æ–ª—è–º–∏.

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –µ—Å—Ç—å –æ–±–ª–µ–≥—á—ë–Ω–Ω–∞—è —Ç–æ—á–∫–∞ `GET /auth/debug`, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞ (`admin123` –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `new_password`). –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

## –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å                    | –†–æ–ª—å      | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------------------------|-----------|----------|
| `GET` | `/users`               | admin     | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| `POST`| `/users`               | admin     | –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `GET` | `/vehicles`            | auth      | –°–ø–∏—Å–æ–∫ –º–∞—à–∏–Ω |
| `POST`| `/vehicles`            | admin     | –î–æ–±–∞–≤–∏—Ç—å –º–∞—à–∏–Ω—É |
| `GET` | `/products`            | auth      | –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ |
| `POST`| `/products`            | admin     | –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä |
| `GET` | `/deliveries`          | manager   | –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç–∞–≤–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ |
| `POST`| `/deliveries`          | manager   | –°–æ–∑–¥–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É –≤—Ä—É—á–Ω—É—é |
| `POST`| `/deliveries/generate` | manager   | –ú–∞—Å—Å–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ—Å—Ç–∞–≤–æ–∫ |
| `GET` | `/deliveries/{id}`     | auth      | –î–µ—Ç–∞–ª–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ |
| `GET` | `/courier/deliveries`  | courier   | –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç–∞–≤–æ–∫ –∫—É—Ä—å–µ—Ä–∞ |
| `GET` | `/courier/deliveries/{id}` | courier | –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –¥–æ—Å—Ç–∞–≤–∫–µ |
| `POST`| `/routes/calculate`    | auth      | –ë—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á—ë—Ç –º–∞—Ä—à—Ä—É—Ç–∞ |

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–≤—Ç–æ—Ä—è—é—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π Kotlin-–ø—Ä–æ–µ–∫—Ç.

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

- –í—Å–µ –¥–∞—Ç—ã: `YYYY-MM-DD`.
- –í—Ä–µ–º—è: `HH:MM` (24-—á–∞—Å–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç).
- –ú–∞—Ä—à—Ä—É—Ç—ã –¥–æ—Å—Ç–∞–≤–æ–∫ —Å–æ–¥–µ—Ä–∂–∞—Ç –º–∞—Å—Å–∏–≤ —Ç–æ—á–µ–∫ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ —Ç–æ–≤–∞—Ä–∞–º–∏.
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–æ–≤; –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ
  ```json
  {
    "error": {
      "code": "VALIDATION_FAILED",
      "message": "Validation failed",
      "details": {"field": "–ü—Ä–∏—á–∏–Ω–∞"}
    }
  }
  ```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config/app.php`, `config/database.php`) –º–æ–∂–µ—Ç —Å—á–∏—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`APP_JWT_SECRET`, `APP_DATABASE`).
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –≤ `App\Infrastructure\Http\Kernel`.
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–∑ `src/Infrastructure/Repository` —Å–∫—Ä—ã–≤–∞—é—Ç —Ä–∞–±–æ—Ç—É —Å SQLite –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –ª—é–±—É—é –°–£–ë–î.
- –°–µ—Ä–≤–∏—Å—ã –∏–∑ `src/Application/Service` –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª.

## –¢–µ—Å—Ç–æ–≤—ã–µ —É—á—ë—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (–ø–æ—Å–ª–µ `php bin/seed.php`)

| –õ–æ–≥–∏–Ω   | –ü–∞—Ä–æ–ª—å      | –†–æ–ª—å    |
|---------|-------------|---------|
| admin   | admin123    | admin   |
| manager | manager123  | manager |
| courier | courier123  | courier |

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –≤ –ª—é–±—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞ PHP.
